In this section, we build the required theory to construct nontrivial measures. To do so, we will specify values of a prenatal measure on a smaller set of subsets, and then *extend* this to a fully fledged measure on the entire generated $\sigma$-algebra.

<center>
<img src="https://i.upmath.me/svg/%5Cbegin%7Btikzcd%7D%5Bcolor%3Dwhite%2C%20font%3D%5Csffamily%5D%0A%09%7B%5Ctext%7Bmeasure%7D%7D%20%26%26%20%7B%5Csigma%5Ctext%7B-algebra%7D%7D%20%5C%5C%0A%09%5C%5C%0A%09%7B%5Ctext%7Bpre-measure%7D%7D%20%26%26%20%7B%5Ctext%7Bring%7D%7D%0A%09%5Carrow%5B%22%7B%5Ctext%7B%5Csffamily%20on%20a%7D%7D%22%2C%20curve%3D%7Bheight%3D-6pt%7D%2C%20squiggly%2C%20from%3D1-1%2C%20to%3D1-3%5D%0A%09%5Carrow%5B%22%7B%5Ctext%7B%5Csffamily%20on%20a%7D%7D%22'%2C%20curve%3D%7Bheight%3D6pt%7D%2C%20squiggly%2C%20from%3D3-1%2C%20to%3D3-3%5D%0A%09%5Carrow%5B%22%7B%5Ctext%7B%5Csffamily%20Carath%5C'eodory%7D%7D%22%2C%20from%3D3-1%2C%20to%3D1-1%5D%0A%09%5Carrow%5B%22%7B%5Ctext%7B%5Csffamily%20generates%7D%7D%22'%2C%20from%3D3-3%2C%20to%3D1-3%5D%0A%5Cend%7Btikzcd%7D" alt="\begin{tikzcd}[color=white, font=\sffamily]
	{\text{measure}} &amp;&amp; {\sigma\text{-algebra}} \\
	\\
	{\text{pre-measure}} &amp;&amp; {\text{ring}}
	\arrow[&quot;{\text{\sffamily on a}}&quot;, curve={height=-6pt}, squiggly, from=1-1, to=1-3]
	\arrow[&quot;{\text{\sffamily on a}}&quot;', curve={height=6pt}, squiggly, from=3-1, to=3-3]
	\arrow[&quot;{\text{\sffamily Carath\'eodory}}&quot;, from=3-1, to=1-1]
	\arrow[&quot;{\text{\sffamily generates}}&quot;', from=3-3, to=1-3]
\end{tikzcd}" />
</center>

First, explore the following two pages for some necessary definitions:
1. [[Rings and Algebras]]
2. [[Set Functions]]
## Statement

>[!theorem] Theorem (Carathéodory's Extension Theorem)
>Let $\mathcal{A}$ be a [[Rings and Algebras#^aed1d6|ring]] in $E$ and let $\mu:\mathcal{A}\to[0,\infty]$ be a countably additive [[Set Functions#^b94a95|set function]]. Then, $\mu$ extends to a measure on the $\sigma$-algebra generated by $\mathcal{A}$.
## Setup

We will define an object known as the outer measure $\mu^*$ on *all* subsets of $E$. Then, we will define a notion of subsets of $E$ being $\mu^*$-measurable. Finally, we will show that the set of $\mu^*$-measurable sets forms a $\sigma$-algebra $\mathcal{M}$ that contains $\mathcal{A}$, on which $\mu^*$ restricts to a measure.

>[!definition]
>For any $B\subseteq E$, we define the <span style="color:#0088ff">outer measure</span> with respect to $\mathcal{A}$ to be
>$$\mu^*(B)=\inf\left( \sum_{n}\mu(A_{n}) \right),$$
>where the infimum is taken over all sequences $(A_{n}:n\in\mathbb{N})$ such that $B\subseteq \bigcup_{n}A_{n}$, and is taken to be $\infty$ if there is no such sequence.

In other words, the we try to contain the set $B\subseteq A$ from the outside as well as possible using the sets that we have in the ring $\mathcal{A}$, which are the only ones we can actually measure so far.

Note that $\mu^{*}(\varnothing)=0$ and $\mu ^{*}$ is increasing.

>[!definition]
>We call a set $A\subseteq E$ <span style="color:#0088ff">$\mu^*$-measurable</span> if for all $B\subseteq E$,
>$$\mu ^{*}(B)=\mu ^{*}(B\cap A)+\mu ^{*}(B\cap A^c).$$

This definition is a bit difficult to motivate, but it is the correct one.

>[!idea]
>One way is to think of your candidate $\mu ^{*}$-measurable set $A$ as a *knife*: we slice any other subset $B$ using the boundary between $A$ and $A^c$. If $A$ is sufficiently tame, then the sum of the outer measure of the two resulting pieces is equal to the outer measure of the original.

On the other hand, if $A$ sliced the pieces [[Banach-Tarski Paradox|Banach-Tarski]] style, then we might end up with pieces that have larger outer measure than we started with—then $A$ wouldn't be called $\mu ^{*}$-measurable.
## Proof

Call $\mathcal{M}$ the set of all $\mu ^{*}$-measurable sets. As promised, we will show that $\mathcal{M}$ is a $\sigma$-algebra containing $\mathcal{A}$ and that $\mu ^{*}$ restricts to a measure on $\mathcal{M}$, extending $\mu$.

>[!claim] 
>$\mu^*$ is countably subadditive.

>[!proof]-
>Suppose that $B\subseteq \bigcup_{n}B_{n}$. We have to show that
>$$\mu ^{*}(B)\leq \sum_{n}\mu ^{*}(B_{n}).$$
>This is not very deep: we can cover each $B_{n}$ with elements of $\mathcal{A}$, and union them together to get a cover of $B$ itself. We do have to be a bit careful about doing it "sufficiently well", however.
>
>We only need to consider the case where all $\mu ^{*}(B_{n})$ are finite. We will use the classic trick of giving ourselves an **"epsilon of room"**: it suffices to show that
>$$\mu ^{*}(B)\leq \sum_{n}\mu ^{*}(B_{n})+\varepsilon$$
>for arbitrary $\varepsilon>0$. In order to do this, we divide our $\varepsilon$ across all $B_{n}$ into pieces of size $\varepsilon \cdot 2^{-n}$. Indeed, by the outer measure definition, there should exist sequences $(A_{nm}:m\in\mathbb{N})$ in our ring $\mathcal{A}$ such that
>$$B_n\subseteq \bigcup_{m}A_{nm},\quad \mu^*(B_n)+\varepsilon/2^n\ge\sum_m\mu(A_{nm})$$
>for any $\varepsilon>0$. Since
>$$B\subseteq\bigcup_n\bigcup_{m}A_{nm},$$
>we know that
>$$\mu^*(B)\le\sum_n\sum_m\mu(A_{nm})\le\sum_n\mu^*(B_n)+\varepsilon.$$

>[!claim]
>$\mu ^{*}$ extends $\mu$.

>[!proof]-
>We just need to check that the measure and the outer measure agree on $\mathcal{A}$. Obviously, for any $A\in\mathcal{A}$, $\mu ^{*}(A)\leq \mu(A)$ since we can bound $A$ with itself.
>
>It suffices to show that we cannot bound $A$ any tighter. Suppose we had any sequence $(A_{n}:n\in\mathbb{N})\in\mathcal{A}$ with $A\subseteq \bigcup_{n}A_{n}$. Then, since $\mu$ is countably subadditive (it is countably additive on a ring),
>$$\mu(A)\leq \sum_{n}\mu(A\cap A_{n})\leq \sum_{n}\mu(A_{n}).$$
>Taking the infimum over all such sequences gives $\mu(A)\leq\mu ^{*}(A)$.

>[!claim]
>$\mathcal{A}\subseteq\mathcal{M}$.

>[!proof]-
>Take any $A\in\mathcal{A}$ and $B\subseteq E$. We need to show
>$$\mu ^{*}(B)=\mu ^{*}(B\cap A)+\mu ^{*}(B\cap A^{c}),$$
>i.e. elements of $\mathcal{A}$ are nice knives. Since $\mu ^{*}$ is subadditive, it suffices to show that if you can bound $B$ by some sequence in $\mathcal{A}$, you can also bound the two components on the right sufficiently well (you don't suddenly generate more stuff). Well, we can just slice each element of the bounding sequence using the boundary between $A$ and $A^{c}$ as well.
>
>For any $\varepsilon>0$, we can find a sequence $(A_{n}:n\in\mathbb{N})\in\mathcal{A}$ such that
>$$B\subseteq \bigcup_{n}A_{n},\qquad\mu ^{*}(B)+\varepsilon \geq \sum_{n}\mu(A_{n}).$$
>Then, we can bound
>$$(B\cap A)\subseteq \bigcup_{n}(A_{n}\cap A),\qquad (B\cap A^{c})\subseteq \bigcup_{n}(A_{n}\cap A^{c}).$$
>Since $\mathcal{A}$ is a ring, all these sets are also in $\mathcal{A}$, so
>$$\begin{align*}
>\mu ^{*}(B\cap A)+\mu ^{*}(B\cap A^{c})&\leq \sum_{n}\mu(A_{n}\cap A)+\sum_{n}\mu(A_{n}\cap A^{c})\\
>&=\sum_{n}\mu(A_{n})\leq\mu ^{*}(B)+\varepsilon.
>\end{align*}$$

>[!claim]
>$\mathcal{M}$ is an [[Rings and Algebras#^b94f87|algebra]].

>[!proof]-
>Obviously $E\in\mathcal{M}$, and $A^{c}\in\mathcal{M}$ if $A\in\mathcal{M}$. We will check finite intersection: if $A_{1},A_{2}\in\mathcal{M}$ and $B\subseteq E$, then
>$$\begin{align*}
>\mu^{*}(B)&=\mu^{*}(B\cap A_{1})+\mu^{*}(B\cap A_{1}^{c})\\
>&=\mu^{*}(B\cap A_{1}\cap A_{2})+\mu^{*}(B\cap A_{1}\cap A_{2}^{c})+\mu ^{*}(B\cap A_{1}^{c})\\
>&=\mu ^{*}(B\cap A_{1}\cap A_{2})+\mu ^{*}(B\cap (A_{1}\cap A_{2})^{c}\cap A_{1})+\mu ^{*}(B\cap(A_{1}\cap A_{2})^{c}\cap A_{1}^{c})\\
>&=\mu ^{*}(B\cap(A_{1}\cap A_{2}))+\mu ^{*}(B\cap(A_{1}\cap A_{2})^{c}).
>\end{align*}$$
>This is just notation: draw a picture, it'll make sense. You have two smooth knives, $A_{1}$ and $A_{2}$, that work for any sets. Of course the knife $A_{1}\cap A_{2}$ is also smooth.

>[!claim]
>$\mathcal{M}$ is a $\sigma$-algebra and $\mu ^{*}$ restricts to a measure on $\mathcal{M}$.

>[!proof]-
>To get these two facts, we need to show that for any sequence of disjoint sets $(A_{n}:n\in\mathbb{N})$ in $\mathcal{M}$, if $A=\bigsqcup_{n}A_{n}$ then
>$$A\in\mathcal{M},\qquad\mu ^{*}(A)=\sum_{n}\mu ^{*}(A_{n}),$$
>i.e. $\mathcal{M}$ is closed under countable unions, and $\mu ^{*}$ is countably additive. 
>
>Take any other subset $B\subseteq E$ to get
>$$\begin{align*}
>\mu ^{*}(B)&=\mu ^{*}(B\cap A_{1})+\mu ^{*}(B\cap A_{1}^{c})\\
>&=\mu ^{*}(B\cap A_{1})+\mu ^{*}(B\cap A_{2})+\mu ^{*}(B\cap A_{1}^{c}\cap A_{2}^{c})\\
>&=\cdots=\sum_{i=1}^{n}\mu ^{*}(B\cap A_{i})+\mu ^{*}(B\cap A_{1}^{c}\cap \cdots \cap A_{n}^{c}).
>\end{align*}$$
>Note that $\mu ^{*}(B\cap A_{1}^{c}\cap \cdots\cap A_{n}^{c})\geq\mu ^{*}(B\cap A^{c})$ for all $n$. Hence, as $n\to \infty$,
>$$\begin{align*}
>\mu ^{*}(B)&\geq \sum_{i=1}^\infty\mu ^{*}(B\cap A_{i})+\mu ^{*}(B\cap A^{c})\\
>&\geq\mu ^{*}(B\cap A)+\mu ^{*}(B\cap A^{c})
>\end{align*}$$
>by countable subadditivity. The reverse inequality also holds by countable subadditivity, so $A\in\mathcal{M}$. When $B=A$, we get
>$$\mu ^{*}(A)=\sum_{n=1}^\infty\mu ^{*}(A_{n}),$$
>so $\mu ^{*}$ has countable additivity on $\mathcal{M}$.

Put together, these claims finish, as $\mu ^{*}$ is a measure that extends $\mu$ from $\mathcal{A}$ to $\mathcal{M}$, which contains $\sigma(\mathcal{A})$.

---

**Next:** [[Uniqueness of Extensions]]